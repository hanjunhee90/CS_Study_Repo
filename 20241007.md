# π“ [tech7-μ¤ν”„λ§] μμ—… λ‚΄μ© μ •λ¦¬

## λ©μ°¨
1. [μμ—… κ°μ”](#μμ—…-κ°μ”)
2. [μ£Όμ” κ°λ…](#μ£Όμ”-κ°λ…)
3. [μ‹¤μµ λ° μμ ](#μ‹¤μµ-λ°-μμ )
4. [μ°Έκ³  μλ£](#μ°Έκ³ -μλ£)
5. [μ§λ¬Έ λ° λ‹µλ³€](#μ§λ¬Έ-λ°-λ‹µλ³€)

---

## μμ—… κ°μ”
**λ‚ μ§:** 2024λ…„ 10μ›” 07μΌ  
**κ°•μ‚¬:** [nick]  
**μ£Όμ :** [spring framework REST API]  

 - RestController, ModelAttribute

---
<!-- ![spring](./img/spring.svg) -->

## μ£Όμ” κ°λ…


# Spring Framework: @RestControllerμ™€ @ModelAttribute

## RESTful API μ„¤λ…

### 1. RESTful API
RESTful APIλ” HTTP ν”„λ΅ν† μ½μ„ κΈ°λ°μΌλ΅ λ¦¬μ†μ¤λ¥Ό κ΄€λ¦¬ν•κ³  ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ μƒνΈμ‘μ©μ„ μ κ³µν•λ” APIμ…λ‹λ‹¤. REST μ›μΉ™μ— λ”°λΌ HTTP λ©”μ„λ“(GET, POST, PUT, DELETE λ“±)λ¥Ό μ‚¬μ©ν•μ—¬ μ„λ²„μ—μ„ CRUD μ‘μ—…μ„ μν–‰ν•©λ‹λ‹¤. 

- **GET**: λ°μ΄ν„°λ¥Ό μ΅°νν•  λ• μ‚¬μ©
- **POST**: μƒλ΅μ΄ λ°μ΄ν„°λ¥Ό μ„λ²„μ— μƒμ„±ν•  λ• μ‚¬μ©
- **PUT**: κΈ°μ΅΄ λ°μ΄ν„°λ¥Ό μμ •ν•  λ• μ‚¬μ©
- **DELETE**: λ°μ΄ν„°λ¥Ό μ‚­μ ν•  λ• μ‚¬μ©

---

## μ½”λ“ μ„¤λ…

`@RestController`λ” μ¤ν”„λ§ ν”„λ μ„μ›ν¬μ—μ„ RESTful μ›Ή μ„λΉ„μ¤λ¥Ό κµ¬ν„ν•  λ• μ‚¬μ©λλ” μ• λ„ν…μ΄μ…μ…λ‹λ‹¤. κΈ°λ³Έμ μΌλ΅ **JSON** ν•μ‹μΌλ΅ λ°μ΄ν„°λ¥Ό λ°ν™ν•λ©°, κΈ°μ΅΄μ `@Controller`μ™€λ” μ•½κ°„μ μ°¨μ΄κ°€ μμµλ‹λ‹¤.
- **μλ™ JSON λ³€ν™**: `@RestController`λ” λ©”μ„λ“μ λ°ν™ κ°’μ„ μλ™μΌλ΅ JSONμΌλ΅ λ³€ν™ν•μ—¬ ν΄λΌμ΄μ–ΈνΈμ—κ² μ „λ‹¬ν•©λ‹λ‹¤. λ”°λΌμ„, **@ResponseBody** μ• λ„ν…μ΄μ…μ„ λ³„λ„λ΅ μ¶”κ°€ν•  ν•„μ”κ°€ μ—†μµλ‹λ‹¤.
- **Request Body μ²λ¦¬**: λ©”μ„λ“μ—μ„ ν΄λΌμ΄μ–ΈνΈλ΅λ¶€ν„° λ°›μ€ JSON λ°μ΄ν„°λ¥Ό μ²λ¦¬ν•  λ• **@RequestBody**λ¥Ό μ‚¬μ©ν•μ—¬ μ΄λ¥Ό μλ°” κ°μ²΄λ΅ λ³€ν™ν•  μ μμµλ‹λ‹¤.


### 1. `@GetMapping`  
- **μ—­ν• **: HTTP GET μ”μ²­μ„ μ²λ¦¬ν•©λ‹λ‹¤. μ£Όλ΅ λ°μ΄ν„°λ¥Ό μ΅°νν•λ” λ° μ‚¬μ©λ©λ‹λ‹¤.  
```java
@GetMapping("/getSubCodes")
public ArrayList<CodeVO> getSubCodes(String commParent) {
    ArrayList<CodeVO> codeList = codeService.getCodeList(commParent);
    return codeList;
}
```
- **μ„¤λ…**: ν΄λΌμ΄μ–ΈνΈλ΅λ¶€ν„° `commParent`λΌλ” λ§¤κ°λ³€μλ¥Ό λ°›μ•„ κ·Έμ— λ€ν• μ½”λ“ λ¦¬μ¤νΈλ¥Ό λ°ν™ν•©λ‹λ‹¤.

---

### 2. `@PostMapping`
- **μ—­ν• **: HTTP POST μ”μ²­μ„ μ²λ¦¬ν•©λ‹λ‹¤. μ£Όλ΅ λ°μ΄ν„°λ¥Ό μ„λ²„μ— μ „μ†΅ν•μ—¬ μƒμ„±ν•κ±°λ‚ μ—…λ°μ΄νΈν•  λ• μ‚¬μ©λ©λ‹λ‹¤.  
```java
@PostMapping(value = "/addCode", produces = "application/json; charset=UTF-8")
public ResponseEntity<String> addCode(@RequestBody CodeVO vo) {
    System.out.println(vo);
    try {
        codeService.addCode(vo);
        return new ResponseEntity<>("μ €μ¥ λμ—μµλ‹λ‹¤.", HttpStatus.CREATED);
    } catch (Exception e) {
        return new ResponseEntity<>("μ €μ¥ μ¤λ¥!.", HttpStatus.INTERNAL_SERVER_ERROR);
    }
}
```
- **μ„¤λ…**: ν΄λΌμ΄μ–ΈνΈκ°€ JSON ν•μ‹μΌλ΅ μ „μ†΅ν• `CodeVO` κ°μ²΄λ¥Ό λ°›μ•„ μ €μ¥ν•λ” μ—­ν• μ„ ν•©λ‹λ‹¤.  
- **ResponseEntity**: μ‘λ‹µ λ©”μ‹μ§€μ™€ HTTP μƒνƒ μ½”λ“λ¥Ό ν¬ν•¨ν•μ—¬ ν΄λΌμ΄μ–ΈνΈμ—κ² μ‘λ‹µν•©λ‹λ‹¤.
    - `HttpStatus.CREATED`: λ¦¬μ†μ¤κ°€ μ„±κ³µμ μΌλ΅ μƒμ„±λμ—μμ„ λ‚νƒ€λƒ…λ‹λ‹¤.
    - `HttpStatus.INTERNAL_SERVER_ERROR`: μ„λ²„μ—μ„ μ²λ¦¬ μ¤‘ μ¤λ¥κ°€ λ°μƒν–μ„ λ• λ°ν™λ©λ‹λ‹¤.

---

### 3. `@DeleteMapping`
- **μ—­ν• **: HTTP DELETE μ”μ²­μ„ μ²λ¦¬ν•μ—¬ λ°μ΄ν„°λ¥Ό μ‚­μ ν•©λ‹λ‹¤.  
```java
@DeleteMapping(value = "/deleteCode/{comm_cd}", produces = "application/json; charset=UTF-8")
public ResponseEntity<String> deleteCode(@PathVariable String comm_cd) {
    System.out.println(comm_cd);
    try {
        codeService.deleteCode(comm_cd);
        return new ResponseEntity<>("μ‚­μ  λμ—μµλ‹λ‹¤.", HttpStatus.OK);
    } catch (Exception e) {
        return new ResponseEntity<>("μ‚­μ  μ¤λ¥!.", HttpStatus.INTERNAL_SERVER_ERROR);
    }
}
```
- **μ„¤λ…**: `comm_cd` κ²½λ΅ λ³€μλ¥Ό ν†µν•΄ μ „λ‹¬λ λ°μ΄ν„°λ¥Ό μ‚­μ ν•λ” μ—­ν• μ„ ν•©λ‹λ‹¤.  
- **@PathVariable**: URL κ²½λ΅μ—μ„ λ™μ μΌλ΅ λ³€μλ¥Ό μ¶”μ¶ν•  λ• μ‚¬μ©ν•©λ‹λ‹¤. μ—¬κΈ°μ„λ” `comm_cd`κ°€ URLμ—μ„ λ™μ μΌλ΅ μ „λ‹¬λ©λ‹λ‹¤.  
- **ResponseEntity**: μ‚­μ  μ„±κ³µ λλ” μ‹¤ν¨μ— λ”°λ¥Έ λ©”μ‹μ§€μ™€ μƒνƒ μ½”λ“λ¥Ό λ°ν™ν•©λ‹λ‹¤.
    - `HttpStatus.OK`: μ‚­μ κ°€ μ„±κ³µν–μμ„ λ‚νƒ€λƒ…λ‹λ‹¤.

---

### 4. `ResponseEntity<String>`
- **μ—­ν• **: HTTP μ‘λ‹µμ„ λ³΄λ‹¤ λ…ν™•ν•κ² μ μ–΄ν•  μ μλ„λ΅ λ•λ” ν΄λμ¤μ…λ‹λ‹¤. μ‘λ‹µ λ³Έλ¬Έκ³Ό HTTP μƒνƒ μ½”λ“λ¥Ό ν•¨κ» λ°ν™ν•  μ μμµλ‹λ‹¤.
    - **λ³Έλ¬Έ**: ν΄λΌμ΄μ–ΈνΈμ—κ² μ „μ†΅λλ” μ‘λ‹µ λ°μ΄ν„°
    - **HTTP μƒνƒ μ½”λ“**: μ‘λ‹µμ μ„±κ³µ λλ” μ‹¤ν¨ μƒνƒλ¥Ό λ‚νƒ€λƒ„ (μ: `HttpStatus.CREATED`, `HttpStatus.OK`, `HttpStatus.INTERNAL_SERVER_ERROR`)
```java
return new ResponseEntity<>("μ €μ¥ λμ—μµλ‹λ‹¤.", HttpStatus.CREATED);
```

---

### κΈ°νƒ€
- **`@RequestBody`**: HTTP μ”μ²­ λ³Έλ¬Έμ„ μλ°” κ°μ²΄λ΅ λ³€ν™ν•©λ‹λ‹¤. μ£Όλ΅ POST, PUT λ©”μ„λ“μ—μ„ μ‚¬μ©λ©λ‹λ‹¤.
- **`produces = "application/json; charset=UTF-8"`**: ν•΄λ‹Ή λ©”μ„λ“κ°€ JSON ν•μ‹μ μ‘λ‹µμ„ μ κ³µν•¨μ„ λ‚νƒ€λ‚΄κ³ , UTF-8 μΈμ½”λ”©μ„ μ‚¬μ©ν•μ—¬ λ°μ΄ν„°μ μΈμ½”λ”© λ¬Έμ λ¥Ό λ°©μ§€ν•©λ‹λ‹¤.


### 2. @ModelAttribute
`@ModelAttribute`λ” μ£Όλ΅ λ·°μ—μ„ μ‚¬μ©ν•  λ°μ΄ν„°λ¥Ό μ „μ—­μ μΌλ΅ μ„¤μ •ν•κ±°λ‚, μ—¬λ¬ μ»¨νΈλ΅¤λ¬ λ©”μ„λ“μ—μ„ κ³µν†µμ μΌλ΅ μ‚¬μ©ν•λ” λ°μ΄ν„°λ¥Ό μ²λ¦¬ν•  λ• μ‚¬μ©λ©λ‹λ‹¤.

#### νΉμ§•
- **κ³µν†µ λ°μ΄ν„° κ΄€λ¦¬**: λ™μΌ μ»¨νΈλ΅¤λ¬ λ‚΄μ—μ„ μ—¬λ¬ νμ΄μ§€μ—μ„ κ³µν†µμ μΌλ΅ μ‚¬μ©λλ” λ°μ΄ν„°λ¥Ό μ „μ—­μ μΌλ΅ μ„¤μ •ν•  μ μμµλ‹λ‹¤. μλ¥Ό λ“¤μ–΄, μ—¬λ¬ νμ΄μ§€μ—μ„ κ³µν†µμ μΌλ΅ μ‚¬μ©λλ” λ©λ΅ λ°μ΄ν„°λ¥Ό ν• λ²λ§ μ •μν•κ³ , μ΄λ¥Ό λ·°μ—μ„ μ‚¬μ©ν•  μ μλ„λ΅ μ„¤μ •ν•©λ‹λ‹¤.
  ```java
  @ModelAttribute("comList")
  public List<String> populateCommonData() {
      return Arrays.asList("Item1", "Item2", "Item3");
  }
  ```
  μ΄λ ‡κ² μ„¤μ •λ λ°μ΄ν„°λ” λ·° ν…ν”λ¦Ώμ—μ„ `${comList}`λ΅ μ°Έμ΅°ν•  μ μμΌλ©°, κ³µν†µ λ°μ΄ν„°λ΅ μ‚¬μ©λ©λ‹λ‹¤.
  
- **λ·°μ™€μ μƒνΈμ‘μ©**: `@ModelAttribute`λ” μ£Όλ΅ νΌ λ°μ΄ν„°λ¥Ό λ¨λΈμ— λ°”μΈλ”©ν•κ±°λ‚, ν…ν”λ¦Ώμ—μ„ μ‚¬μ©ν•λ” λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•  λ• μ‚¬μ©λ©λ‹λ‹¤. μ΄λ” **νΌ μ²λ¦¬** λ° **λ·°μ— λ°μ΄ν„° μ „λ‹¬**μ— μ μ©ν•©λ‹λ‹¤.




## μ‹¤μµ μμ  

```sql
    CREATE TABLE COMM_CODE 
(	comm_cd CHAR(4 BYTE) PRIMARY KEY, 
    comm_nm VARCHAR2(100 BYTE), 
    comm_parent CHAR(4 BYTE), 
    comm_ord NUMBER
) ;

COMMENT ON COLUMN COMM_CODE.comm_cd IS 'μ½”λ“';
COMMENT ON COLUMN COMM_CODE.comm_nm IS 'μ½”λ“λ…';
COMMENT ON COLUMN COMM_CODE.comm_parent IS 'λ¶€λ¨ μ½”λ“';
COMMENT ON COLUMN COMM_CODE.comm_ord IS 'μλ²';
COMMENT ON TABLE  COMM_CODE  IS 'κ³µν†µμ½”λ“ ν…μ΄λΈ”';
```

## μ°Έκ³  μλ£

- 

## μ§λ¬Έ 




